<div>
  <form (ngSubmit)="onSubmit()" #interviewForm="ngForm">
    <ul class="nav nav-tabs" id="interviewTabs" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="interview-tab" data-toggle="tab" href="#interview" role="tab" aria-controls="interview" aria-selected="true">Interview</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="details-tab" data-toggle="tab" href="#details" role="tab" aria-controls="details" aria-selected="false">Details</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="proposal-tab" data-toggle="tab" href="#proposal" role="tab" aria-controls="proposal" aria-selected="false">Proposal</a>
      </li>
    </ul>

    <div class="tab-content" id="interviewTabsContent">
      <!-- TAB-I -->
      <div class="tab-pane fade show active" id="interview" role="tabpanel" aria-labelledby="interview-tab">
        <div class="form-group row mt-3">
          <div class="col-sm-3">
            <label class="col-form-label">Name</label>
          </div>
          <div *ngIf="componentMode==1 || componentMode==2; else elseBlockName" class="col-sm-9">
            <input class="form-control" id="name" required [(ngModel)]="Model.name" name="name">
          </div>
          <ng-template #elseBlockName>
            <div class="col-sm-9">
              {{Model.name}}
            </div>
          </ng-template>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Interviewee</label>
          </div>
          <div *ngIf="componentMode==1 || componentMode==2;else elseBlockInterviewee" class="col-sm-9">
            <input class="form-control" id="interviewee" required [(ngModel)]="Model.interviewee" name="interviewee">
          </div>
          <ng-template #elseBlockInterviewee>
            <div class="col-sm-9">
              {{Model.interviewee}}
            </div>
          </ng-template>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Interviewed</label>
          </div>
          <div *ngIf="componentMode==1 || componentMode==2; else elseBlockInterviewed" class="col-sm-9">
            <input class="form-control" id="interviewed" required [(ngModel)]="Model.interviewed" name="interviewed">
          </div>
          <ng-template #elseBlockInterviewed>
            <div class="col-sm-9">
              {{Model.interviewed}}
            </div>
          </ng-template>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Interview Date</label>
          </div>
          <div class="col-sm-9">
            <mat-form-field>
              <input matInput [matDatepicker]="interviewDate" id="interviewDate" required [(ngModel)]="Model.interviewDate" name="interviewDate">
              <mat-datepicker-toggle matSuffix [for]="interviewDate"></mat-datepicker-toggle>
              <mat-datepicker #interviewDate></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Interview Note</label>
          </div>
          <div *ngIf="componentMode==1 || componentMode==2; else elseBlockInterviewNote" class="col-sm-9">
            <textarea class="form-control" id="interviewNote" required [(ngModel)]="Model.interviewNote" name="interviewNote"></textarea>
          </div>
          <ng-template #elseBlockInterviewNote>
            <div class="col-sm-9">
              {{Model.interviewNote}}
            </div>
          </ng-template>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Interview Reminder Date</label>
          </div>
          <div class="col-sm-9">
            <mat-form-field>
              <input matInput [matDatepicker]="interviewReminderDate" id="interviewReminderDate" required [(ngModel)]="Model.interviewReminderDate"
                name="interviewReminderDate">
              <mat-datepicker-toggle matSuffix [for]="interviewReminderDate"></mat-datepicker-toggle>
              <mat-datepicker #interviewReminderDate></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Interview Reminder Note</label>
          </div>
          <div *ngIf="componentMode==1 || componentMode==2; else elseBlockInterviewReminderNote" class="col-sm-9">
            <textarea class="form-control" id="interviewReminderNote" [(ngModel)]="Model.interviewReminderNote" name="interviewReminderNote"></textarea>
          </div>
          <ng-template #elseBlockInterviewReminderNote>
            <div class="col-sm-9">
              {{Model.interviewReminderNote}}
            </div>
          </ng-template>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Reminder Closing Date</label>
          </div>
          <div class="col-sm-9">
            <mat-form-field>
              <input matInput [matDatepicker]="interviewClosingDate" id="interviewClosingDate" required [(ngModel)]="Model.reminderClosingDate"
                name="interviewClosingDate">
              <mat-datepicker-toggle matSuffix [for]="interviewClosingDate"></mat-datepicker-toggle>
              <mat-datepicker #interviewClosingDate></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-3">
            <label class="col-form-label">Reminder Closing Note</label>
          </div>
          <div *ngIf="componentMode==1 || componentMode==2; else elseBlockReminderClosingNote" class="col-sm-9">
            <textarea class="form-control" id="reminderClosingNote" [(ngModel)]="Model.reminderClosingNote" name="reminderClosingNote"></textarea>
          </div>
          <ng-template #elseBlockReminderClosingNote>
            <div class="col-sm-9">
              {{Model.interviewReminderNote}}
            </div>
          </ng-template>
        </div>
      </div>
      <!-- TAB-II -->
      <div class="tab-pane fade" id="details" role="tabpanel" aria-labelledby="details-tab">
        <app-service-type #serviceType (OnServiceTypeAdded)="OnServiceTypeAdded($event)"></app-service-type>
        <div class="container-fluid mt-1">
          <div class="row">
            <div class="col-sm-10">
              <h5 class="mt-1">Interview Content</h5>
            </div>
            <div class="col-sm-2">
              <button type="button" #serviceTypeToggle class="btn btn-light btn-sm" data-toggle="collapse" href="#serviceTypeComponent"
                data-placement="top" title="New" (click)="onToggle()">
                <i class="material-icons" [hidden]="addButtonToggle">&#xE147;</i>
                <i class="material-icons" [hidden]="!addButtonToggle">&#xE15C;</i>
              </button>
            </div>
          </div>
          <table class="table table-striped table-hover mt-1">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Details</th>
                <th scope="col">Contract Start Date</th>
                <th scope="col">Contract End Date</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of Model?.serviceTypes;index as i">
                <th scope="row">{{i+1}}</th>
                <td>{{item.name}}</td>
                <td>{{item.details}}</td>
                <td>{{item.contractStartDate}}</td>
                <td>{{item.contractEndDate}}</td>
                <td>
                  <a href="" class="text-danger" data-placement="top" title="Delete" (click)="onServiceTypeDeleted(item)">
                    <i class="material-icons">&#xE92B;</i>
                  </a>
                </td>
              </tr>
              <tr class="collapse">
                <td>
                  test row
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- TAB-III -->
      <div class="tab-pane fade" id="proposal" role="tabpanel" aria-labelledby="proposal-tab">
        <form #proposalForm="ngForm">
          <div class="form-group row mt-3">
            <div class="col-sm-3">
              <label class="col-form-label">proposer</label>
            </div>
            <div class="col-sm-9">
              <input class="form-control" id="proposer" required [(ngModel)]="proposalModel.proposer" name="proposer">
            </div>
          </div>
          <div class="form-group row mt-1">
            <div class="col-sm-3">
              <label class="col-form-label">Proposal Date</label>
            </div>
            <div class="col-sm-9">
              <mat-form-field>
                <input matInput [matDatepicker]="proposalDate" id="proposalDate" required [(ngModel)]="proposalModel.proposalDate" name="proposalDate">
                <mat-datepicker-toggle matSuffix [for]="proposalDate"></mat-datepicker-toggle>
                <mat-datepicker #proposalDate></mat-datepicker>
              </mat-form-field>
            </div>
          </div>

          <form #proposalServiceTypeForm="ngForm" >
            <div class="form-group row">
              <div class="col-sm-3">
                <label class="col-form-label">Service Type</label>
              </div>
              <div class="col-sm-9">
                <select class="form-control" id="name" required [(ngModel)]="proposalServiceType.name" name="name">
                  <option value="Occupational Health and Safety">Occupational Health and Safety</option>
                  <option value="Environment">Environment</option>
                  <option value="Environmental Impact Assessment">Environmental Impact Assessment</option>
                  <option value="Laboratory">Laboratory</option>
                  <option value="Software">Software</option>
                </select>
              </div>
            </div>
            <div class="form-group row mt-1">
              <div class="col-sm-3">
                <label class="col-form-label">Proposal Amount</label>
              </div>
              <div class="col-sm-9">
                <input class="form-control" mask='999999' maxlength="6" id="proposalAmount" required [(ngModel)]="proposalServiceType.proposalAmount"
                  name="ProposalAmount" placeholder="Proposal Amount">
              </div>
            </div>
            <div class="col-sm-12">
              <button type="button" class="btn float-right" [ngClass]="{'btn-success':proposalServiceTypeForm.form.valid,'btn-danger':!proposalServiceTypeForm.form.valid}"
                [disabled]="!proposalServiceTypeForm.form.valid" (click)="onProposalServiceTypeAdded(proposalServiceType)">Add</button>
            </div>
          </form>

          <div class="container-fluid mt-1" >
            <div class="form-group row mt-1" >
              <div class="col-sm-3" >

              </div>
              <div class="col" >
                <div class="row">
                  <div class="col">
                    <h5 class="mt-1">Proposal
                      <b>Services</b>
                    </h5>
                  </div>
                </div>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Name</th>
                      <th>Proposal Amount</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of proposalModel?.serviceTypes;index as i">
                      <th scope="row">{{i+1}}</th>
                      <td>{{item.name}}</td>
                      <td>{{item.proposalAmount}}</td>
                      <td>
                        <a href="" class="text-danger" data-placement="top" title="Delete" (click)="onProposalServiceTypeDeleted(item)">
                          <i class="material-icons">&#xE92B;</i>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="col-sm-12">
              <button type="button" class="btn float-right" [ngClass]="{'btn-success':proposalForm.form.valid,'btn-danger':!proposalForm.form.valid}"
                [disabled]="!proposalForm.form.valid" (click)="onProposalAdded(proposalModel)">Add</button>
            </div>
        </form>

        <div class="container-fluid mt-1">
          <div class="row">
            <div class="col-sm-10" >
              <h5 class="mt-1">Proposal Content</h5>
            </div>
            <table class="table table-striped table-hover mt-1">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Proposer</th>
                  <th scope="col">Proposal Date</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of Model?.proposalDetail;index as i">
                    <th scope="row">{{i+1}}</th>
                    <td>{{item.proposer}}</td>
                    <td>{{item.proposalDate}}</td>
                    <td>
                      <a href="" class="text-danger" data-placement="top" title="Delete" (click)="onProposalDeleted(item)">
                        <i class="material-icons">&#xE92B;</i>
                      </a>
                    </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

    <div class="modal-custom-footer">
      <div class="col-sm-12 mt-2">
        <button type="submit" class="btn float-right" [ngClass]="{'btn-success':interviewForm.form.valid,'btn-danger':!interviewForm.form.valid}"
          [disabled]="!interviewForm.form.valid">{{SubmitButtonText}}</button>
      </div>
    </div>
  </form>
</div>